
# 计网体系结构 - OSI、TCP/IP、五层协议体系  



__本页目录：__   
[简而言之](#inall)  
[OSI 的体系结构](#osi)  
[TCP/IP 的结构体系](#tcpip)  
[五层体系结构](#five)  

<a id='inall'></a>

## 简而言之
总的来说，计网结构体系分成三种：  
1. OSI 的体系结构
2. TCP/IP 的结构体系
3. [五层体系结构](#five) [着重学习]

`OSI的体系结构` 是由国际标准化组织ISO提出的一种标准框架，他有7层体系，但是由于 1.OSI缺乏商业驱动 2.协议较复杂，运行效率低   3.OSI层次划分不合理，功能出现重复。导致OSI止步于理论层面。  

`TCP/IP的结构体系` 是由于OSI的复杂不实用，TCP/IP就应运而生了，他在ISO发表之前就出现了。TCP/IP只有4层体系，并且得到了市场的肯定。  

`五层体系结构` 是因为OSI概念清除体系完整，而TCP/IP更具实用价值，所以我们学习的时候会学习较为折中的 五层协议的体系结构。

![](https://ws3.sinaimg.cn/large/006tNbRwgy1fvygqapt6bj30g108yti3.jpg)

| OSI参考层编号 | 等效的OSI层      | 五层协议体系 | TCP/IP协议体系 | TCP/IP协议示例                                                                       |
| ------------- | ---------------- | ------------ | -------------- | ------------------------------------------------------------------------------------ |
| 7、6、5       | 应用、表示、会话 | 应用         | 应用层         | HTTP、HTTPS、NFS、NIS、DNS、LDAP、telnet、ftp、rlogin、rsh、rcp、RIP、RDISC、SNMP 等 |
| 4             | 传输             | 传输         | 运输层         | TCP、UDP、SCTP                                                                       |
| 3             | 网络             | 网络         | 网际层IP       | IPv4、IPv6、ARP、ICMP                                                                |
| 2             | 数据链路         | 数据链路     | 网络接口层     | PPP、IEEE 802.2                                                                      |
| 1             | 物理             | 物理网络     | 网络接口层     | 以太网 (IEEE 802.3)、令牌环、RS-232、FDDI 等等                                       |
<a id='osi'></a>

## OSI 的体系结构
OSI体系结构，意为开放式系统互联。  
国际标准组织（国际标准化组织）制定了OSI模型。这个模型把网络通信的工作分为7层  
分别是 `物理层, 数据链路层, 网络层, 传输层, 会话层, 表示层 和 应用层`。  

__OSI体系从上到下解析：__  

1. 应用层（Application Layer）提供为应用软件而设的接口，以设置与另一应用软件之间的通信。例如: HTTP，HTTPS，FTP，TELNET，SSH，SMTP，POP3等。

2. 表达层（Presentation Layer）把数据转换为能与接收者的系统格式兼容并适合传输的格式。

3. 会话层（Session Layer）负责在数据传输中设置和维护计算机网络中两台计算机之间的通信连接。

4. 传输层（Transport Layer）把传输表头（TH）加至数据以形成数据包。传输表头包含了所使用的协议等发送信息。例如:传输控制协议（TCP）等。

5. 网络层（Network Layer）决定数据的路径选择和转寄，将网络表头（NH）加至数据包，以形成分组。网络表头包含了网络数据。例如:互联网协议（IP）等。

6. 数据链路层（Data Link Layer）负责网络寻址、错误侦测和改错。当表头和表尾被加至数据包时，会形成帧。数据链表头（DLH）是包含了物理地址和错误侦测及改错的方法。数据链表尾（DLT）是一串指示数据包末端的字符串。例如以太网、无线局域网（Wi-Fi）和通用分组无线服务（GPRS）等。  
分为两个子层：逻辑链路控制（logic link control，LLC）子层和介质访问控制（media access control，MAC）子层。

7. 物理层（Physical Layer）在局部局域网上传送数据帧（data frame），它负责管理计算机通信设备和网络媒体之间的互通。包括了针脚、电压、线缆规范、集线器、中继器、网卡、主机适配器等。

<a id='tcpip'></a>

## TCP/IP 的结构体系
__1. 本机内TCP/IP体系结构展示：__  
![](https://ws4.sinaimg.cn/large/006tNbRwgy1fvzspp8fp6j30d9073n1n.jpg)  
   
__2. 网络间TCP/IP体系结构展示：__  
![](https://ws1.sinaimg.cn/large/006tNbRwgy1fvytqvroucj30fu09045j.jpg)  

<a id='from5'></a>  

__3. TCP/IP 体系从上到下解析__  
1. __应用层：__
应用层是体系结构中的最高层，它直接为用户的应用程序提供服务，在因特网中应用层的协议很多，如支持万维网应用的http协议，支持电邮的smtp协议，支持文件传输的ftp协议等等。  
我们将应用层交互的数据单元称为 __报文__。 

2. __运输层：__ 它为两个主机中的进程间提供通用的传输服务。主要有复用(向下传)和分用(向上传)两个功能。  
    运输层主要使用以下两种协议：TCP和UDP   
    - TCP：_Transmission Contol Protocol_，传输控制协议，面向连接的，数据传输的单位是报文段，能够提供可靠地交付。  
    - UDP：_User Datagram Protocol_，用户数据报协议，无连接的，数据传输的单位是用户数据报，不保证提供可靠地交付。

3. __网络层：__
    负责为分组交换网上的不同主机提供通信服务。  
    (作用1)在发送数据时，网络层把运输层产生的报文段或用户数据报封装成分组或包进行传送。  
    在TCP/IP体系中，由于网络层使用IP协议，因此分组也叫做IP数据报，简称数据报。  
    (作用2)网络层的另一个任务就是要选择合适的路由，  
    使源主机运输层所传下来的分组，能够通过网络中的路由器找到目的主机。  

4. __网络接口层：__ 对于TCP/IP结构体系，的这一层主要包含 五层协议 的数据链路层和物理层    
    - 数据链路层：  
    链路层将网络层交下来的IP数据报组装成帧，在两个相邻结点之间的链路上透明地传送帧中的数据。控制端在接收数据时，控制信息使接收端能够知道一个帧从哪个比特开始和到哪个比特结束。这样，数据链路层在收到一个帧后，就可从中提取出数据部分，上交给网络层。控制信息还使得接收端能够检测到所收到的帧中有无差错。如果发现有差错，数据链路层就简单地丢弃这个出错的帧，以免传下去白白浪费网络资源。如果需要改正错误，就由运输层的TCP协议来完成。(数据信息的确认交给更高层的网络层或者应用层实现)

    - 物理层：在物理层上所传数据的单位是比特。物理层的任务就是透明地传送比特流。

<a id='five'></a>

## 五层体系结构
五层体系结构主要是将TCP/IP体系拆分成5层，便于学习：  
1. __应用层__：应用层定义的是 应用间通信和交互的规则，如HTTP、FTP等
   
2. __运输层__：它为两个主机中的进程间提供通用的传输服务。主要有复用(向下传)和分用(向上传)两个功能。运输方式分为TCP、UDP两种协议
3. __网络层__：为运输层的数据包选择合适的路由协议(TCP/IP中用的是IP协议)，地址解析 和 路由 是网络层的重要目的。
4. __数据链路层__：数据链路层在不可靠的物理介质上提供可靠的传输。作用包括：物理地址寻址、数据的成帧、流量控制、数据的检错、重发等。
5. __物理层__：物理层主要负责 数据 和 物理信号 之间的互相转换。(比如0和1转换为电信号分别用几伏表示传输)

具体每层的内容参看[TCP/IP 体系从上到下解析](#from5)  

五层体系结构的数据传输 __图解__ ：  
![](https://ws3.sinaimg.cn/large/006tNbRwgy1fw0ndnh4hzj30rs0d4qiu.jpg)

