---
title: 阿里云邮箱使用
author: yrobot
keywords: aliyun,email,smtp
createTime: 2023年10月12日
---

## SMTP 发送邮件丢失，被去重机制过滤

### 问题描述

我在使用阿里云邮箱 SMTP 发送多封类似邮件时，发现所有邮件显示发送成功了，但是对方只收到了第一份，在阿里云客户端发件箱里也只展示了第一份。

### 问题原因

工单联系 阿里云客服，客服回复如下：

![STlT9T-11-29-18](https://images.yrobot.top/2023-10-12/STlT9T-11-29-18.png)

```text
这边通志核实，以上时间段有出现失败:RecvDuplicatedEmail，是由于短时间内重复发送，系统自动去重的原因。
相同的邮件主题、发件人收件人等在短时间内多次链接会判断为自动去重而失败，阿里企业邮箱的判断去重条件：半小时内，会根据邮件正文中的 rcptto、date、from、subject、Message-ID、mailfrom 等字段来判断用户是否在发送重复的邮件，如果是重复的邮件，将会在队列中丢弃。请您检查一下您的发信模板、程序等，是否邮件正文的上述字段都是固定的，如果缺少上述字段则默认为是相同邮件，建议给发送的每封信加上不同的 message-ID 来解决这个问题
```

```text
您好，确实很抱歉，目前免费邮箱不支持去重
```

### 解决方案

1. 为每封邮件添加不同的 message-ID
2. 为每封邮件添加不同的 subject
3. 升级为收费版邮箱？ /doge/doge/doge
